<%= render 'login' %>
<p id="notice"><%= notice %></p>

<p>
  <h1><%= @question.title %></h1>
</p>

<!-- QUESTION COMMMENTS BELOW THIS LINE -->

<div id="question-container">
  <h2>Question</h2>
    <h3><%= @question.description %></h3>
</div>
  <p><%= time_ago_in_words(@question.created_at) %> ago.</p>
  Tags: <%= raw @question.tag_list.map { |t| link_to t, tag_path(t)}.join(', ') %><br>


<br> <!-- ANSWERS BELOW THIS LINE -->

<%= render 'answers/form' %>
Answers<a href="#" class="new-answer-btn">(<%= @question.answers.count %>)</a>
<div class="answers-container">
    <h3>Answers</h3>

    <% @question.answers.order(:cached_votes_up => :desc).each do |answer| %>
      <%= answer.score %>
      <%= link_to "upvote", like_answer_path(answer), method: :put %>
      <%= link_to "downvote", dislike_answer_path(answer), method: :put %>
      <%= answer.description %>
      <p><%= time_ago_in_words(answer.created_at) %> ago.</p>
      
    <% end %>

</div>

<br>

<%= link_to 'Edit', edit_question_path(@question) %> |
<%= link_to 'Back', questions_path %>
